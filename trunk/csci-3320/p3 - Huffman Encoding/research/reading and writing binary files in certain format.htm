<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html dir="ltr" lang="en"><head>


	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="robots" content="noarchive">
<meta name="generator" content="vBulletin 3.5.0">

<meta name="keywords" content="char,imageout,sizeof,write,outfile,imagein,infile,buffer,read,endl,file,cout,imageinsize,program,seekg">
<meta name="description" content="Reading and writing binary files in certain format CPP / C++ Forum"><!-- CSS Stylesheet -->



<link rel="stylesheet" type="text/css" href="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/style-3ec19038-00001.css" id="vbulletin_css"><!-- / CSS Stylesheet -->



<script type="text/javascript">
<!--
var SESSIONURL = "";
var IMGDIR_MISC = "images/misc";
// -->
</script>

<script type="text/javascript" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/vbulletin_global.js"></script>
<script type="text/javascript" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/vbulletin_menu.js" rel="nofollow"></script>
<link rel="alternate" type="application/rss+xml" title="GIDForums RSS Feed" href="http://www.gidforums.com/external.php?type=RSS2">
<script type="text/javascript" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/pphlogger.js"></script><script type="text/javascript" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/pphlogger.htm"></script><title>Reading and writing binary files in certain format - GIDForums</title> 
	
<script type="text/javascript"><!--
if( parent.frames.length > 0 ) top.location.replace( document.location ); //--></script>
<script src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/urchin.js" type="text/javascript"></script><script type="text/javascript"><!--
_uacct = "UA-55009-1"; urchinTracker(); //--></script></head><body onload="">
<!-- logo -->
	<a name="top"></a>
	<table align="center" border="0" cellpadding="0" cellspacing="0" width="100%">
		<tbody><tr>
			<td align="left"><a href="http://www.gidforums.com/"><img title="GIDForums" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/gidforums-1.gif" alt="GIDForums" border="0"></a></td>
			<td align="right"><div id="fulltop"><script type="text/javascript" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/adx.js"></script><script type="text/javascript"><!--
	if( !document.phpAds_used ) document.phpAds_used = ',';

	phpAds_random = new String( Math.random() );
	phpAds_random = phpAds_random.substring( 2, 11 );
	document.write( "<" + "script type='text/javascript' src='" );
	document.write( "http://pan.gidnetwork.com/adjs.php?n=" + phpAds_random );
	document.write( "&amp;what=t3327%2C_468x60%7Cf28%2C_468x60%7Cf0%2C_468x60%2Cgidad%2C_468x60&amp;target=_top&amp;block=1&amp;blockcampaign=0" );
	document.write( "&amp;exclude=" + document.phpAds_used );

	if( document.referrer )
		document.write( "&amp;referer=" + escape(document.referrer) );

	document.write( "'><" + "/script>" ); //--></script><script type="text/javascript" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/adjs_002.js"></script><a href="http://pan.gidnetwork.com/adclick.php?bannerid=277&amp;zoneid=0&amp;source=&amp;ismap=" target="_top"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/certmagicbanner1.gif" border="0"></a><div id="beacon_277" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/adlog.gif" alt="" style="width: 0px; height: 0px;" height="0" width="0"></div><noscript><iframe
id="a5216dde" name="a5216dde"
src="http://pan.gidnetwork.com/adframe.php?n=a5216dde&amp;what=zone:6&amp;target=_blank"
frameborder="0" scrolling="no" style="height:60px; width:468px;"><a
rel="nofollow" href="http://pan.gidnetwork.com/adclick.php?n=a5216dde"
target="_blank"><img
src="http://pan.gidnetwork.com/adview.php?what=zone:6&amp;n=a5216dde"
border="0" alt="" /></a></iframe></noscript></div></td>
		</tr>
	</tbody></table>
	<!-- /logo -->
	<!-- content table -->
<!-- open content container -->

<div align="center">
	<div class="page" style="width: 100%; text-align: left;">
		<div style="padding: 0px 25px;">


<script type="text/javascript">
<!--
function log_out()
{
	ht = document.getElementsByTagName("html");
	ht[0].style.filter = "progid:DXImageTransform.Microsoft.BasicImage(grayscale=1)";
	if (confirm('Are you sure you want to log out?'))
	{
		return true;
	}
	else
	{
		ht[0].style.filter = "";
		return false;
	}
}
//-->
</script>

<br>

<!-- breadcrumb, login, pm info -->
<table class="tborder" align="center" border="0" cellpadding="6" cellspacing="1" width="100%">
<tbody><tr>
	<td class="alt1" width="100%">
		
			<table border="0" cellpadding="0" cellspacing="0">
			<tbody><tr valign="bottom">
				<td><a href="#" rel="nofollow" onclick="history.back(1); return false;"><img title="Go Back" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/navbits_start.gif" alt="Go Back" border="0"></a></td>
				<td>&nbsp;</td>
				<td width="100%"><span class="navbar"><a href="http://www.gidforums.com/" accesskey="1">GIDForums</a></span> 
	<span class="navbar">&gt; <a href="http://www.gidforums.com/f-36.html">Computer Programming Forums</a></span>


	<span class="navbar">&gt; <a href="http://www.gidforums.com/f-28.html">CPP / C++ Forum</a></span>

</td>
			</tr>
			<tr>
				<td class="navbar" style="font-size: 10pt; padding-top: 1px;" colspan="3"><a href="http://www.gidforums.com/t-3327.html"><img title="Reload this Page" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/navbits_finallink.gif" alt="Reload this Page" border="0"></a> <strong>
	Reading and writing binary files in certain format

</strong></td>
			</tr>
			</tbody></table>			
		
	</td>	
	
	
		
		<td class="alt2" style="padding: 0px;" nowrap="nowrap">
			
		<!-- login form -->
		<form action="login.php" method="post" onsubmit="md5hash(vb_login_password,vb_login_md5password,vb_login_md5password_utf)">
		<script type="text/javascript" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/vbulletin_md5.js"></script>
		<table border="0" cellpadding="0" cellspacing="3">
		<tbody><tr>
			<td class="smallfont">User Name</td>
			<td><input class="bginput" style="font-size: 11px;" name="vb_login_username" id="navbar_username" size="10" accesskey="u" tabindex="1" value="User Name" onfocus="if (this.value == 'User Name') this.value = '';" type="text"></td>
			<td class="smallfont" colspan="2" nowrap="nowrap"><label for="cb_cookieuser_navbar"><input name="cookieuser" value="1" tabindex="3" id="cb_cookieuser_navbar" accesskey="c" checked="checked" type="checkbox">Remember Me?</label></td>
		</tr>
		<tr>
			<td class="smallfont">Password</td>
			<td><input class="bginput" style="font-size: 11px;" name="vb_login_password" size="10" accesskey="p" tabindex="2" type="password"></td>
			<td><input class="button" value="Log in" tabindex="4" title="Enter your username and password in the boxes provided to login, or click the 'register' button to create a profile for yourself." accesskey="s" type="submit"></td>
		</tr>
		</tbody></table>
		<input name="s" value="" type="hidden">
		<input name="do" value="login" type="hidden">		
		<input name="vb_login_md5password" type="hidden">
		<input name="vb_login_md5password_utf" type="hidden">
		</form>
		<!-- / login form -->
			
		</td>
		
		
	
</tr>
</tbody></table>
<!-- / breadcrumb, login, pm info -->

<!-- nav buttons bar -->
<div align="center">
	<table class="tborder" style="border-top-width: 0px;" align="center" border="0" cellpadding="6" cellspacing="0" width="100%">
	<tbody><tr align="center">
		
		
			<td class="vbmenu_control"><a href="http://www.gidforums.com/register.php" rel="nofollow">Register</a></td>
		
		<td class="vbmenu_control"><a href="http://www.gidforums.com/faq.php" rel="nofollow" accesskey="5">FAQ</a></td>
		<td class="vbmenu_control"><a href="http://www.gidforums.com/memberlist.php" rel="nofollow">Members List</a></td>
		<td class="vbmenu_control"><a href="http://www.gidforums.com/calendar.php" rel="nofollow">Calendar</a></td>
				
			
				
				<td class="vbmenu_control"><a href="http://www.gidforums.com/search.php?do=getdaily" rel="nofollow" accesskey="2">Today's Posts</a></td>
				
				<td style="cursor: pointer;" id="navbar_search" class="vbmenu_control"><a href="http://www.gidforums.com/search.php" accesskey="4" rel="nofollow">Search</a> <script type="text/javascript"> vbmenu_register("navbar_search"); </script> <img alt="" title="" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/menu_open.gif" border="0"></td>
			
			
		
		
	</tr>
	</tbody></table>
</div>
<!-- / nav buttons bar -->
<br>

<br>



<!-- NAVBAR POPUP MENUS -->
	
	
	<!-- header quick search form -->
	<div class="vbmenu_popup" id="navbar_search_menu" style="display: none;">
		<table border="0" cellpadding="4" cellspacing="1">
		<tbody><tr>
			<td class="thead">Search Forums</td>
		</tr>
		<tr>
			<td class="vbmenu_option" title="nohilite">
			<form action="search.php" method="post">
				<input name="do" value="process" type="hidden">
				<input name="showposts" value="0" type="hidden">
				<input name="quicksearch" value="1" type="hidden">
				<input class="bginput" name="query" size="20" type="text"><input class="button" value="Go" type="submit"><br>
			</form>
			</td>
		</tr>
		<tr>
			<td class="vbmenu_option"><a href="http://www.gidforums.com/search.php" accesskey="4" rel="nofollow">Advanced Search</a></td>
		</tr>
		</tbody></table>
	</div>
	<!-- / header quick search form -->
	

	
<!-- / NAVBAR POPUP MENUS -->

<!-- PAGENAV POPUP -->

	<div class="vbmenu_popup" id="pagenav_menu" style="display: none; position: absolute; z-index: 50;">
		<table border="0" cellpadding="4" cellspacing="1">
		<tbody><tr>
			<td class="thead" nowrap="nowrap">Go to Page...</td>
		</tr>
		<tr>
			<td class="vbmenu_option" title="">
			<form action="index.php" method="get" onsubmit="return this.gotopage()" id="pagenav_form">
				<input class="bginput" id="pagenav_itxt" style="font-size: 11px;" size="4" type="text">
				<input class="button" id="pagenav_ibtn" value="Go" type="button">
			</form>
			</td>
		</tr>
		</tbody></table>
	</div>

<!-- / PAGENAV POPUP -->

<script type="text/javascript"><!--
	document.write( '<'+'table id="tableGIDadstgtop" cellspacing="0" cellpadding="0" border="0" summary=""'+'><'+'tr'+'><'+'td id="tdGIDadstgtop1">' ); //--></script><table id="tableGIDadstgtop" summary="" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td id="tdGIDadstgtop1">
<script type="text/javascript" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/adx.js"></script><script type="text/javascript"><!--
	if( !document.phpAds_used ) document.phpAds_used = ',';

	phpAds_random = new String( Math.random() );
	phpAds_random = phpAds_random.substring( 2, 11 );
	document.write( "<" + "script type='text/javascript' src='" );
	document.write( "http://pan.gidnetwork.com/adjs.php?n=" + phpAds_random );
	document.write( "&amp;what=t3327%2C_0x0%7Cf28%2C_0x0%7Cf0%2C_0x0%2Cgidad%2C_0x0&amp;target=_top&amp;block=1&amp;blockcampaign=0" );
	document.write( "&amp;exclude=" + document.phpAds_used );

	if( document.referrer )
		document.write( "&amp;referer=" + escape(document.referrer) );

	document.write( "'><" + "/script>" ); //--></script><script type="text/javascript" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/adjs.js"></script><a href="http://pan.gidnetwork.com/adclick.php?bannerid=228&amp;zoneid=0&amp;source=&amp;ismap=" target="_top"><div id="divGIDAd1"><div id="divGIDAd2">
Database Query Tool
</div><div id="divGIDAd3">
Query, update, navigate, &amp; manage all major databases from one tool.
</div></div>
</a><div id="beacon_228" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/adlog_002.gif" alt="" style="width: 0px; height: 0px;" height="0" width="0"></div>
<script type="text/javascript"><!--
	document.write( '<'+'/td'+'><'+'/tr'+'><'+'/table>' ); // --></script></td></tr></tbody></table>


<a name="poststop" id="poststop"></a>
<!-- controls above postbits -->
<table style="margin-bottom: 3px;" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="bottom">
	
	  
	  	<td class="smallfont">&nbsp;</td>
	  
	
	<td align="right"><div class="pagenav" align="right">
<table class="tborder" border="0" cellpadding="3" cellspacing="1">
<tbody><tr>
	<td class="vbmenu_control" style="font-weight: normal;">Page 1 of 2</td>
	
	
		<td class="alt2"><span class="smallfont" title="Showing results 1 to 10 of 11"><strong>1</strong></span></td>
 <td class="alt1"><a class="smallfont" href="http://www.gidforums.com/t-3327.html?page=2" title="Show results 11 to 11 of 11">2</a></td>
	<td class="alt1"><a class="smallfont" href="http://www.gidforums.com/t-3327.html?page=2" title="Next Page - Results 11 to 11 of 11">&gt;</a></td>
	
	<td style="cursor: pointer;" id="pagenav.32" class="vbmenu_control" title=""> <img alt="" title="" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/menu_open.gif" border="0"></td>
</tr>
</tbody></table>
</div></td>
</tr>
</tbody></table>
<!-- / controls above postbits -->
<!-- toolbar -->
<table class="tborder" style="border-bottom-width: 0px;" align="center" border="0" cellpadding="6" cellspacing="1" width="100%">
<tbody><tr>
	<td class="tcat" width="100%">
		<div class="smallfont">
		
		&nbsp;
		</div>
	</td>
	<td style="cursor: pointer;" class="vbmenu_control" id="threadtools" nowrap="nowrap">
		<a href="http://www.gidforums.com/t-3327.html?nojs=1#goto_threadtools" rel="nofollow">Thread Tools</a>
		<script type="text/javascript"> vbmenu_register("threadtools"); </script> <img alt="" title="" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/menu_open.gif" border="0">
	</td>
	
		<td style="cursor: pointer;" class="vbmenu_control" id="threadsearch" nowrap="nowrap">
			<a href="http://www.gidforums.com/t-3327.html?nojs=1#goto_threadsearch" rel="nofollow">Search this Thread</a>
			<script type="text/javascript"> vbmenu_register("threadsearch"); </script> <img alt="" title="" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/menu_open.gif" border="0">
		</td>
	
	
		<td style="cursor: pointer;" class="vbmenu_control" id="threadrating" nowrap="nowrap">
			<a href="http://www.gidforums.com/t-3327.html?nojs=1#goto_threadrating" rel="nofollow">Rate Thread</a>
			<script type="text/javascript"> vbmenu_register("threadrating"); </script> <img alt="" title="" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/menu_open.gif" border="0">
		</td>
	
	
	
	
	
</tr>
</tbody></table>
<!-- / toolbar -->

<!-- end content table -->

		</div>	
	</div>
</div>

<!-- / close content container -->
<!-- / end content table -->

<div id="posts"><!-- post #16185 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width: 100%; text-align: left;">
		<div style="padding: 0px 25px;">

	<div id="edit16185" style="padding: 0px 0px 6px;">
	<!-- this is not the last post shown on the page -->	



<table class="tborder" id="post16185" align="center" border="0" cellpadding="6" cellspacing="1" width="100%">
<tbody><tr>
	<td class="thead">
		<div class="normal" style="float: right;">
			&nbsp;
			#<a href="http://www.gidforums.com/showpost.php?p=16185&amp;postcount=1" target="new" rel="nofollow" id="postcount16185" name="1"><strong>1</strong></a> &nbsp;
			
			
			
			
		</div>
		
		<div class="normal">
			<!-- status icon and date -->
			<a name="post16185"><img title="Old" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/post_old.gif" alt="Old" border="0"></a>
			
				02-Aug-2004, 10:16
			
			
			<!-- / status icon and date -->
		</div>
	</td>
</tr>
<tr>
	<td class="alt1" style="padding: 0px;">
		<!-- user info -->
		<table border="0" cellpadding="0" cellspacing="6" width="100%">
		<tbody><tr>
			
			<td nowrap="nowrap">
			
				<div id="postmenu_16185">
					
					<a class="bigusername" href="http://www.gidforums.com/member.php?u=2102" rel="nofollow"><span title="Member: Level 2" style="color: rgb(140, 98, 57);">Dream86</span></a>
					<img title="Dream86 is offline" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/user_offline.gif" alt="Dream86 is offline" border="0">


					<script type="text/javascript"> vbmenu_register("postmenu_16185", true); </script>
					
				</div>
				
				<div class="smallfont">Junior Member</div>
				<div class="smallfont"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""></div>
				
			</td>
			<td width="100%">&nbsp;</td>
			<td nowrap="nowrap" valign="top">
				
				<div class="smallfont">
					<div>Join Date: Jun 2004</div>
					
					
					<div>
						Posts: 54
					</div>
					<div><img title="Dream86 is on a distinguished road" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="Dream86 is on a distinguished road" border="0"></div>
					<div>   </div>
				</div>
				
			</td>
		</tr>
		</tbody></table>
		<!-- / user info -->
	</td>
</tr>
<tr>
	<td class="alt2" id="td_post_16185" style="padding-bottom: 21px;">
	<!-- message, attachments, sig -->
		
			<!-- icon and title -->
			<div class="smallfont">
				
				<h2>Reading and writing binary files in certain format</h2>
			</div>
			<hr style="color: rgb(209, 209, 225);" size="1">
			<!-- / icon and title -->
		
		<!-- message -->
		<div id="post_message_16185">Hi,<br>
I am trying to write a program that reads a binary file (an image with
a 512B header) and writes in into another binary file( an image file
with a new header-1024B). The program is suppose to change the header
of the input file. The parameters of the input file (old header format)
is different from the parameters of the output file (new header
format). Both formats have some parameters in common. I initialized the
other parametes that are not in common between the two formats to a
nonsense value( I chose -1 since it is not an accetable value for the
parametes of the image header). then according to the order of the
parameters in the new format, data is either being read from the old
format or from the nonsense initialized values. Then the image data is
beign read and written exactly as they are in the inputfile. The
problem that I have now is that the output file is not stable. when i
run the program on a file for different times, i get output files with
different sizes, sometimes even the output file is generated but the
size of it is 0. I hope the way I explained it make sense. Does anyone
know what might be the problem? <br>
Thank you</div><!-- / message -->
		
		
		
		

		<!-- message, attachments, sig -->
	</td>
</tr>


  <!-- ad: leaderboard for guests -->
  <tr><td class="alt2 lbmid"><script type="text/javascript"><!--
google_ad_client = "pub-6718186524237536";
google_alternate_ad_url = "http://www.gidnetwork.com/gidcontext-miva.php?f=GID_FORUM_ID&gid_affid=48677&format=728x90&color_bo=FFFFFF&color_ab=000000";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text";
google_ad_channel ="1867747929+0551060857+1815919085+0341443730";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "22229C";
google_color_url = "000000";
google_color_text = "000000";
//--></script>
<script type="text/javascript" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/show_ads.js">
</script><iframe name="google_ads_frame" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/ads.htm" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" frameborder="0" height="90" scrolling="no" width="728"></iframe><noscript><iframe
id="ab27003b" name="ab27003b"
src="http://pan.gidnetwork.com/adframe.php?n=ab27003b&amp;what=zone:19&amp;target=_blank"
frameborder="0" scrolling="no" width="728" height="90"><a
rel="nofollow" href="http://pan.gidnetwork.com/adclick.php?n=ab27003b"
target="_blank"><img
src="http://pan.gidnetwork.com/adview.php?what=zone:19&amp;n=ab27003b"
border="0" alt="" /></a></iframe></noscript></td></tr>
  <!-- / ad: leaderboard for guests -->

</tbody></table>




	</div>
	
		</div>	
	</div>
</div>

<!-- / close content container -->

<!-- / post #16185 --><!-- post #16196 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width: 100%; text-align: left;">
		<div style="padding: 0px 25px;">

	<div id="edit16196" style="padding: 0px 0px 6px;">
	<!-- this is not the last post shown on the page -->	



<table class="tborder" id="post16196" align="center" border="0" cellpadding="6" cellspacing="1" width="100%">
<tbody><tr>
	<td class="thead">
		<div class="normal" style="float: right;">
			&nbsp;
			#<a href="http://www.gidforums.com/showpost.php?p=16196&amp;postcount=2" target="new" rel="nofollow" id="postcount16196" name="2"><strong>2</strong></a> &nbsp;
			
			
			
			
		</div>
		
		<div class="normal">
			<!-- status icon and date -->
			<a name="post16196"><img title="Old" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/post_old.gif" alt="Old" border="0"></a>
			
				02-Aug-2004, 15:46
			
			
			<!-- / status icon and date -->
		</div>
	</td>
</tr>
<tr>
	<td class="alt1" style="padding: 0px;">
		<!-- user info -->
		<table border="0" cellpadding="0" cellspacing="6" width="100%">
		<tbody><tr>
			
			<td nowrap="nowrap">
			
				<div id="postmenu_16196">
					
					<a class="bigusername" href="http://www.gidforums.com/member.php?u=1284" rel="nofollow"><span style="color: rgb(0, 114, 188);" title="Member: Level 5">davekw7x</span></a>
					<img title="davekw7x is offline" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/user_offline.gif" alt="davekw7x is offline" border="0">


					<script type="text/javascript"> vbmenu_register("postmenu_16196", true); </script>
					
				</div>
				
				<div class="smallfont">Outstanding Member</div>
				<div class="smallfont"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""></div>
				
			</td>
			<td width="100%">&nbsp;</td>
			<td nowrap="nowrap" valign="top">
				
				<div class="smallfont">
					<div>Join Date: Feb 2004</div>
					<div>Location: Left Coast, USA</div>
					
					<div>
						Posts: 3,413
					</div>
					<div><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_highpos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_highpos.gif" alt="davekw7x is a splendid one to behold" border="0"></div>
					<div>   </div>
				</div>
				
			</td>
		</tr>
		</tbody></table>
		<!-- / user info -->
	</td>
</tr>
<tr>
	<td class="alt2" id="td_post_16196" style="padding-bottom: 21px;">
	<!-- message, attachments, sig -->
		
		<!-- message -->
		<div id="post_message_16196">What are you reading and writing: bytes, or what? Are you reading and writing integers with binary files, or what?<br>
<br>
Show some code; give us some clues.<br>
<br>
Dave</div><!-- / message -->
		
		
		
		

		<!-- message, attachments, sig -->
	</td>
</tr>


  

</tbody></table>




	</div>
	
		</div>	
	</div>
</div>

<!-- / close content container -->

<!-- / post #16196 --><!-- post #16197 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width: 100%; text-align: left;">
		<div style="padding: 0px 25px;">

	<div id="edit16197" style="padding: 0px 0px 6px;">
	<!-- this is not the last post shown on the page -->	



<table class="tborder" id="post16197" align="center" border="0" cellpadding="6" cellspacing="1" width="100%">
<tbody><tr>
	<td class="thead">
		<div class="normal" style="float: right;">
			&nbsp;
			#<a href="http://www.gidforums.com/showpost.php?p=16197&amp;postcount=3" target="new" rel="nofollow" id="postcount16197" name="3"><strong>3</strong></a> &nbsp;
			
			
			
			
		</div>
		
		<div class="normal">
			<!-- status icon and date -->
			<a name="post16197"><img title="Old" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/post_old.gif" alt="Old" border="0"></a>
			
				02-Aug-2004, 20:47
			
			
			<!-- / status icon and date -->
		</div>
	</td>
</tr>
<tr>
	<td class="alt1" style="padding: 0px;">
		<!-- user info -->
		<table border="0" cellpadding="0" cellspacing="6" width="100%">
		<tbody><tr>
			
			<td nowrap="nowrap">
			
				<div id="postmenu_16197">
					
					<a class="bigusername" href="http://www.gidforums.com/member.php?u=2102" rel="nofollow"><span title="Member: Level 2" style="color: rgb(140, 98, 57);">Dream86</span></a>
					<img title="Dream86 is offline" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/user_offline.gif" alt="Dream86 is offline" border="0">


					<script type="text/javascript"> vbmenu_register("postmenu_16197", true); </script>
					
				</div>
				
				<div class="smallfont">Junior Member</div>
				<div class="smallfont"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""></div>
				
			</td>
			<td width="100%">&nbsp;</td>
			<td nowrap="nowrap" valign="top">
				
				<div class="smallfont">
					<div>Join Date: Jun 2004</div>
					
					
					<div>
						Posts: 54
					</div>
					<div><img title="Dream86 is on a distinguished road" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="Dream86 is on a distinguished road" border="0"></div>
					<div>   </div>
				</div>
				
			</td>
		</tr>
		</tbody></table>
		<!-- / user info -->
	</td>
</tr>
<tr>
	<td class="alt2" id="td_post_16197" style="padding-bottom: 21px;">
	<!-- message, attachments, sig -->
		
		<!-- message -->
		<div id="post_message_16197">Sorry for not being clear. <br>
I am reading and writing raw data. The input file is a raw data file
output of a microscope. The file has a 512 bytes header that includes
the information about the image like size, data, color, and etc. The
output file again is a binary file. The output file should have a
header of 1024 bytes plus the image bytes. so the program is reading
the bytes from the input files and write them in different order in the
output file (i.e. the program should change the header of the input
file). But since the output file is 512 B larger than the input file,
512 bytes are being read from a class that includes the extra variables
of the output file initialized to -1. All the bytes are being read as
longs. <br>
<br>
<div style="margin: 5px 20px 20px;">
  <div class="smallfont gctitle"><b><abbr title="C++ or C plus plus">CPP</abbr> / <abbr title="C++ Programming Language">C++</abbr> / <abbr title="C Programming Language">C</abbr> Code:</b></div>
  <code style="margin: 0px;"></code><pre class="gid cpp" style="height: 390px;">  ic_img_hdr imageIn;    <span class="c">// new format
</span>
   oldFormatParams imageOut;   <span class="c">//old format
</span>
   <span class="c">//initializing the vars to a nonsense value
</span>   imageOut.numSection = -<span class="n">1</span>;
   imageOut.zStart = -<span class="n">1</span>;
   <span class="c">//continue like this until all the vars are initialized...
</span>
   ifstream inFile(argv[<span class="n">1</span>], ios::in | ios::binary)

    inFile.seekg(<span class="n">16</span>, ios::beg);
    inFile.read( (<span class="k">char</span>*) &amp;imageIn.totalx, <span class="k">sizeof</span>(<span class="k">long</span>) );  <span class="c">//1
</span>    inFile.seekg(<span class="n">20</span>, ios::beg);
    inFile.read( (<span class="k">char</span>*) &amp;imageIn.totaly, <span class="k">sizeof</span>(<span class="k">long</span>) );  <span class="c">//2
</span>    inFile.seekg(<span class="n">24</span>, ios::beg);
    inFile.read((<span class="k">char</span>*) &amp;imageIn.bpp, <span class="k">sizeof</span>(<span class="k">long</span>) );     <span class="c">//4
</span>    inFile.seekg(<span class="n">8</span>, ios::beg);
    inFile.read( (<span class="k">char</span>*) &amp;imageIn.startx, <span class="k">sizeof</span>(<span class="k">long</span>) );  <span class="c">//5
</span>    <span class="c">//continue like this untill the first 512 bytes of the input file is read in order
</span>
    <span class="k">char</span>* outFileName[<span class="n">100</span>];
    strcpy( (<span class="k">char</span>*)outFileName, argv[<span class="n">1</span>] );
    strcat( (<span class="k">char</span>*)outFileName, <span class="q">"Formated.bin"</span>);

    ofstream outFile( (<span class="k">char</span>*)outFileName, ios::out | ios::binary);

    outFile.write( (<span class="k">char</span>*) &amp;imageIn.totalx, <span class="k">sizeof</span>(<span class="k">long</span>) );                    <span class="c">//1
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageIn.totaly, <span class="k">sizeof</span>(<span class="k">long</span>) );                    <span class="c">//2
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.numSection, <span class="k">sizeof</span>(<span class="k">long</span>) );               <span class="c">//3
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageIn.xspc, <span class="k">sizeof</span>(<span class="k">long</span>) );                      <span class="c">//11
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageIn.yspc, <span class="k">sizeof</span>(<span class="k">long</span>) );                      <span class="c">//12
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageIn.zspc, <span class="k">sizeof</span>(<span class="k">long</span>) );                      <span class="c">//13
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.alpha, <span class="k">sizeof</span>(<span class="k">long</span>) );                    <span class="c">//14
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.beta, <span class="k">sizeof</span>(<span class="k">long</span>) );                     <span class="c">//15
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.gamma, <span class="k">sizeof</span>(<span class="k">long</span>) );                    <span class="c">//16
</span>    <span class="c">//continue like this until all bytes(those read from the inputfile and 
</span>   <span class="c">// those vars initialized to -1  are being written
</span>
   <span class="c">//writing the image data
</span>
  <span class="k">unsigned</span> <span class="k">long</span> imageInSize;
                
   inFile.seekg(<span class="n">16</span>, ios::beg);
  <span class="c">//inFile &gt;&gt; imageIn.totalx;
</span>  inFile.read( (<span class="k">char</span>*) &amp;imageIn.totalx, <span class="k">sizeof</span>(<span class="k">long</span>) );

  <span class="c">//inFile.seekg(20, ios::beg);
</span>  <span class="c">//inFile &gt;&gt; imageIn.totaly;
</span>  inFile.read( (<span class="k">char</span>*) &amp;imageIn.totaly, <span class="k">sizeof</span>(<span class="k">long</span>) );

  imageInSize = imageIn.totalx * imageIn.totaly;

  inFile.seekg(<span class="n">24</span>, ios::beg);
  inFile.read( (<span class="k">char</span>*) &amp;imageIn.bpp, <span class="k">sizeof</span>(<span class="k">long</span>) );

  <span class="k">if</span> (imageIn.bpp == <span class="n">8</span> )
  {
    <span class="k">char</span>* buffer = <span class="k">new</span> <span class="k">char</span>[imageInSize*<span class="n">2</span>];
    inFile.seekg(<span class="n">512</span>, ios::beg);
    inFile.read(buffer, imageInSize*<span class="n">2</span>);
    
    outFile.write( (<span class="k">char</span>*) &amp;buffer[<span class="n">0</span>], imageInSize*<span class="n">2</span>);
   
    <span class="k">delete</span>[] buffer;
  }

  <span class="k">else</span> <span class="k">if</span> (imageIn.bpp == <span class="n">16</span>)
  {
    <span class="k">unsigned</span> <span class="k">short</span>* buffer = <span class="k">new</span> <span class="k">unsigned</span> <span class="k">short</span>[imageInSize*<span class="n">2</span>];
    inFile.seekg(<span class="n">512</span>, ios::beg);
    inFile.read(buffer, imageInSize*<span class="n">2</span>);
   
    outFile.write( (<span class="k">char</span>*) &amp;buffer[<span class="n">0</span>], imageInSize*<span class="n">2</span>);
    <span class="k">delete</span>[] buffer;
  }</pre>
</div></div><!-- / message -->
		
		
		
		<!-- edit note --><div class="smallfont">
			<div class="editedby">Last edited by Garth Farley : 04-Aug-2004 at <span class="time">05:45</span>.
				Reason: Added C/C++ syntax highlighting
			</div>
		</div><!-- / edit note -->

		<!-- message, attachments, sig -->
	</td>
</tr>


  

</tbody></table>




	</div>
	
		</div>	
	</div>
</div>

<!-- / close content container -->

<!-- / post #16197 --><!-- post #16200 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width: 100%; text-align: left;">
		<div style="padding: 0px 25px;">

	<div id="edit16200" style="padding: 0px 0px 6px;">
	<!-- this is not the last post shown on the page -->	



<table class="tborder" id="post16200" align="center" border="0" cellpadding="6" cellspacing="1" width="100%">
<tbody><tr>
	<td class="thead">
		<div class="normal" style="float: right;">
			&nbsp;
			#<a href="http://www.gidforums.com/showpost.php?p=16200&amp;postcount=4" target="new" rel="nofollow" id="postcount16200" name="4"><strong>4</strong></a> &nbsp;
			
			
			
			
		</div>
		
		<div class="normal">
			<!-- status icon and date -->
			<a name="post16200"><img title="Old" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/post_old.gif" alt="Old" border="0"></a>
			
				02-Aug-2004, 23:02
			
			
			<!-- / status icon and date -->
		</div>
	</td>
</tr>
<tr>
	<td class="alt1" style="padding: 0px;">
		<!-- user info -->
		<table border="0" cellpadding="0" cellspacing="6" width="100%">
		<tbody><tr>
			
			<td nowrap="nowrap">
			
				<div id="postmenu_16200">
					
					<a class="bigusername" href="http://www.gidforums.com/member.php?u=1284" rel="nofollow"><span style="color: rgb(0, 114, 188);" title="Member: Level 5">davekw7x</span></a>
					<img title="davekw7x is offline" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/user_offline.gif" alt="davekw7x is offline" border="0">


					<script type="text/javascript"> vbmenu_register("postmenu_16200", true); </script>
					
				</div>
				
				<div class="smallfont">Outstanding Member</div>
				<div class="smallfont"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""></div>
				
			</td>
			<td width="100%">&nbsp;</td>
			<td nowrap="nowrap" valign="top">
				
				<div class="smallfont">
					<div>Join Date: Feb 2004</div>
					<div>Location: Left Coast, USA</div>
					
					<div>
						Posts: 3,413
					</div>
					<div><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_highpos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_highpos.gif" alt="davekw7x is a splendid one to behold" border="0"></div>
					<div>   </div>
				</div>
				
			</td>
		</tr>
		</tbody></table>
		<!-- / user info -->
	</td>
</tr>
<tr>
	<td class="alt2" id="td_post_16200" style="padding-bottom: 21px;">
	<!-- message, attachments, sig -->
		
		<!-- message -->
		<div id="post_message_16200">I think I understand what you have in mind.<br>
<br>
A couple of questions:<br>
<br>
this isn't right:<br>
<div style="margin: 5px 20px 20px;">
  <div class="smallfont gctitle"><b><abbr title="C++ or C plus plus">CPP</abbr> / <abbr title="C++ Programming Language">C++</abbr> / <abbr title="C Programming Language">C</abbr> Code:</b></div>
  <code style="margin: 0px;"></code><pre class="gid cpp"> <span class="k">else</span> <span class="k">if</span> (imageIn.bpp == <span class="n">16</span>)
{
<span class="k">unsigned</span> <span class="k">short</span>* buffer = <span class="k">new</span> <span class="k">unsigned</span> <span class="k">short</span>[imageInSize*<span class="n">2</span>];
inFile.seekg(<span class="n">512</span>, ios::beg);
inFile.read(buffer, imageInSize*<span class="n">2</span>);

outFile.write( (<span class="k">char</span>*) &amp;buffer[<span class="n">0</span>], imageInSize*<span class="n">2</span>);
<span class="k">delete</span>[] buffer;
}
</pre>
</div>
<br>
It shouldn't even compile since the first argument to inFile.read
should be a pointer to a char, not a pointer to an unsigned short.<br>
<br>
<br>
In either case (imageIn.bpp == 8, or imagiIn.bpp == 16) you are trying
to read 2*imageIn.totalx*imageIn.totaly bytes. Is this correct? Are you
sure that you have read the .totalx and .totaly quantities correctly?
(Use <strong>cout&lt;&lt;</strong> to show the values you are actually reading). Are you actually reading and writing that many bytes?<br>
<br>
<br>
Dave</div><!-- / message -->
		
		
		
		

		<!-- message, attachments, sig -->
	</td>
</tr>


  

</tbody></table>




	</div>
	
		</div>	
	</div>
</div>

<!-- / close content container -->

<!-- / post #16200 --><!-- post #16225 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width: 100%; text-align: left;">
		<div style="padding: 0px 25px;">

	<div id="edit16225" style="padding: 0px 0px 6px;">
	<!-- this is not the last post shown on the page -->	



<table class="tborder" id="post16225" align="center" border="0" cellpadding="6" cellspacing="1" width="100%">
<tbody><tr>
	<td class="thead">
		<div class="normal" style="float: right;">
			&nbsp;
			#<a href="http://www.gidforums.com/showpost.php?p=16225&amp;postcount=5" target="new" rel="nofollow" id="postcount16225" name="5"><strong>5</strong></a> &nbsp;
			
			
			
			
		</div>
		
		<div class="normal">
			<!-- status icon and date -->
			<a name="post16225"><img title="Old" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/post_old.gif" alt="Old" border="0"></a>
			
				03-Aug-2004, 11:24
			
			
			<!-- / status icon and date -->
		</div>
	</td>
</tr>
<tr>
	<td class="alt1" style="padding: 0px;">
		<!-- user info -->
		<table border="0" cellpadding="0" cellspacing="6" width="100%">
		<tbody><tr>
			
			<td nowrap="nowrap">
			
				<div id="postmenu_16225">
					
					<a class="bigusername" href="http://www.gidforums.com/member.php?u=2102" rel="nofollow"><span title="Member: Level 2" style="color: rgb(140, 98, 57);">Dream86</span></a>
					<img title="Dream86 is offline" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/user_offline.gif" alt="Dream86 is offline" border="0">


					<script type="text/javascript"> vbmenu_register("postmenu_16225", true); </script>
					
				</div>
				
				<div class="smallfont">Junior Member</div>
				<div class="smallfont"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""></div>
				
			</td>
			<td width="100%">&nbsp;</td>
			<td nowrap="nowrap" valign="top">
				
				<div class="smallfont">
					<div>Join Date: Jun 2004</div>
					
					
					<div>
						Posts: 54
					</div>
					<div><img title="Dream86 is on a distinguished road" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="Dream86 is on a distinguished road" border="0"></div>
					<div>   </div>
				</div>
				
			</td>
		</tr>
		</tbody></table>
		<!-- / user info -->
	</td>
</tr>
<tr>
	<td class="alt2" id="td_post_16225" style="padding-bottom: 21px;">
	<!-- message, attachments, sig -->
		
		<!-- message -->
		<div id="post_message_16225">in
the case (bpp == 8 ) , the number of bits per pixel of the image is 8
and in the other case, there are 16 bits per pixel. so when there is
one byte per pixel, i am reading it to a char array which is one byte
per cell. When there is 2 bytes per pixel, i am reading it to a short
array which is 2 bytes per pixel. so each array cell represents a pixel
data of the image. I had another program before this that only read and
write the image data of a raw data file. This part of the code is from
that program. I do not ger compiler error though. If i change the
unsigned short* buffer to a char * buffer (in the case where bpp ==
16), i do not get the correct image (i can open the output image using
NIH program and look at the output image). I do not know if there is
other way of doing it using char* in both cases?<br>
<br>
thanks</div><!-- / message -->
		
		
		
		

		<!-- message, attachments, sig -->
	</td>
</tr>


  

</tbody></table>




	</div>
	
		</div>	
	</div>
</div>

<!-- / close content container -->

<!-- / post #16225 --><!-- post #16226 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width: 100%; text-align: left;">
		<div style="padding: 0px 25px;">

	<div id="edit16226" style="padding: 0px 0px 6px;">
	<!-- this is not the last post shown on the page -->	



<table class="tborder" id="post16226" align="center" border="0" cellpadding="6" cellspacing="1" width="100%">
<tbody><tr>
	<td class="thead">
		<div class="normal" style="float: right;">
			&nbsp;
			#<a href="http://www.gidforums.com/showpost.php?p=16226&amp;postcount=6" target="new" rel="nofollow" id="postcount16226" name="6"><strong>6</strong></a> &nbsp;
			
			
			
			
		</div>
		
		<div class="normal">
			<!-- status icon and date -->
			<a name="post16226"><img title="Old" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/post_old.gif" alt="Old" border="0"></a>
			
				03-Aug-2004, 12:42
			
			
			<!-- / status icon and date -->
		</div>
	</td>
</tr>
<tr>
	<td class="alt1" style="padding: 0px;">
		<!-- user info -->
		<table border="0" cellpadding="0" cellspacing="6" width="100%">
		<tbody><tr>
			
			<td nowrap="nowrap">
			
				<div id="postmenu_16226">
					
					<a class="bigusername" href="http://www.gidforums.com/member.php?u=1284" rel="nofollow"><span style="color: rgb(0, 114, 188);" title="Member: Level 5">davekw7x</span></a>
					<img title="davekw7x is offline" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/user_offline.gif" alt="davekw7x is offline" border="0">


					<script type="text/javascript"> vbmenu_register("postmenu_16226", true); </script>
					
				</div>
				
				<div class="smallfont">Outstanding Member</div>
				<div class="smallfont"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""></div>
				
			</td>
			<td width="100%">&nbsp;</td>
			<td nowrap="nowrap" valign="top">
				
				<div class="smallfont">
					<div>Join Date: Feb 2004</div>
					<div>Location: Left Coast, USA</div>
					
					<div>
						Posts: 3,413
					</div>
					<div><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_highpos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_highpos.gif" alt="davekw7x is a splendid one to behold" border="0"></div>
					<div>   </div>
				</div>
				
			</td>
		</tr>
		</tbody></table>
		<!-- / user info -->
	</td>
</tr>
<tr>
	<td class="alt2" id="td_post_16226" style="padding-bottom: 21px;">
	<!-- message, attachments, sig -->
		
		<!-- message -->
		<div id="post_message_16226">So, if <strong>imageInSize</strong> is the number of pixels, the following tries to read two times the number of pixels, since each pixel takes one byte:<br>
<br>
<div style="margin: 5px 20px 20px;">
  <div class="smallfont gctitle"><b><abbr title="C++ or C plus plus">CPP</abbr> / <abbr title="C++ Programming Language">C++</abbr> / <abbr title="C Programming Language">C</abbr> Code:</b></div>
  <code style="margin: 0px;"></code><pre class="gid cpp"> <span class="k">if</span> (imageIn.bpp == <span class="n">8</span> )
{
<span class="k">char</span>* buffer = <span class="k">new</span> <span class="k">char</span>[imageInSize*<span class="n">2</span>];
inFile.seekg(<span class="n">512</span>, ios::beg);
inFile.read(buffer, imageInSize*<span class="n">2</span>);

outFile.write( (<span class="k">char</span>*) &amp;buffer[<span class="n">0</span>], imageInSize*<span class="n">2</span>);

<span class="k">delete</span>[] buffer;
}
</pre>
</div>
<br>
Is that what you meant to do?<br>
<br>
Dave</div><!-- / message -->
		
		
		
		

		<!-- message, attachments, sig -->
	</td>
</tr>


  

</tbody></table>




	</div>
	
		</div>	
	</div>
</div>

<!-- / close content container -->

<!-- / post #16226 --><!-- post #16227 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width: 100%; text-align: left;">
		<div style="padding: 0px 25px;">

	<div id="edit16227" style="padding: 0px 0px 6px;">
	<!-- this is not the last post shown on the page -->	



<table class="tborder" id="post16227" align="center" border="0" cellpadding="6" cellspacing="1" width="100%">
<tbody><tr>
	<td class="thead">
		<div class="normal" style="float: right;">
			&nbsp;
			#<a href="http://www.gidforums.com/showpost.php?p=16227&amp;postcount=7" target="new" rel="nofollow" id="postcount16227" name="7"><strong>7</strong></a> &nbsp;
			
			
			
			
		</div>
		
		<div class="normal">
			<!-- status icon and date -->
			<a name="post16227"><img title="Old" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/post_old.gif" alt="Old" border="0"></a>
			
				03-Aug-2004, 13:05
			
			
			<!-- / status icon and date -->
		</div>
	</td>
</tr>
<tr>
	<td class="alt1" style="padding: 0px;">
		<!-- user info -->
		<table border="0" cellpadding="0" cellspacing="6" width="100%">
		<tbody><tr>
			
			<td nowrap="nowrap">
			
				<div id="postmenu_16227">
					
					<a class="bigusername" href="http://www.gidforums.com/member.php?u=1284" rel="nofollow"><span style="color: rgb(0, 114, 188);" title="Member: Level 5">davekw7x</span></a>
					<img title="davekw7x is offline" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/user_offline.gif" alt="davekw7x is offline" border="0">


					<script type="text/javascript"> vbmenu_register("postmenu_16227", true); </script>
					
				</div>
				
				<div class="smallfont">Outstanding Member</div>
				<div class="smallfont"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""></div>
				
			</td>
			<td width="100%">&nbsp;</td>
			<td nowrap="nowrap" valign="top">
				
				<div class="smallfont">
					<div>Join Date: Feb 2004</div>
					<div>Location: Left Coast, USA</div>
					
					<div>
						Posts: 3,413
					</div>
					<div><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_highpos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_highpos.gif" alt="davekw7x is a splendid one to behold" border="0"></div>
					<div>   </div>
				</div>
				
			</td>
		</tr>
		</tbody></table>
		<!-- / user info -->
	</td>
</tr>
<tr>
	<td class="alt2" id="td_post_16227" style="padding-bottom: 21px;">
	<!-- message, attachments, sig -->
		
		<!-- message -->
		<div id="post_message_16227">The following, from your original post,  should <strong>not</strong> compile, assuming you are using the C++ standard &lt;fstream&gt; (what compiler did you use)?<br>
<br>
<div style="margin: 5px 20px 20px;">
  <div class="smallfont gctitle"><b><abbr title="C++ or C plus plus">CPP</abbr> / <abbr title="C++ Programming Language">C++</abbr> / <abbr title="C Programming Language">C</abbr> Code:</b></div>
  <code style="margin: 0px;"></code><pre class="gid cpp"> <span class="k">else</span> <span class="k">if</span> (imageIn.bpp == <span class="n">16</span>)
{
<span class="k">unsigned</span> <span class="k">short</span>* buffer = <span class="k">new</span> <span class="k">unsigned</span> <span class="k">short</span>[imageInSize*<span class="n">2</span>];
inFile.seekg(<span class="n">512</span>, ios::beg);
inFile.read(buffer, imageInSize*<span class="n">2</span>);

outFile.write( (<span class="k">char</span>*) &amp;buffer[<span class="n">0</span>], imageInSize*<span class="n">2</span>);
<span class="k">delete</span>[] buffer;
}
</pre>
</div>
<br>
The <strong>inFile.read()</strong> must have a (char *) first argument. you could use<br>
<br>
<div style="margin: 5px 20px 20px;">
  <div class="smallfont gctitle"><b><abbr title="C++ or C plus plus">CPP</abbr> / <abbr title="C++ Programming Language">C++</abbr> / <abbr title="C Programming Language">C</abbr> Code:</b></div>
  <code style="margin: 0px;"></code><pre class="gid cpp">inFile.read((<span class="k">char</span> *)buffer, imageInSize*<span class="n">2</span>);
</pre>
</div>
<br>
or (using the style that you used in the <strong>outFile.write</strong> statement):<br>
<br>
<div style="margin: 5px 20px 20px;">
  <div class="smallfont gctitle"><b><abbr title="C++ or C plus plus">CPP</abbr> / <abbr title="C++ Programming Language">C++</abbr> / <abbr title="C Programming Language">C</abbr> Code:</b></div>
  <code style="margin: 0px;"></code><pre class="gid cpp">inFile.read((<span class="k">char</span> *)&amp;buffer[<span class="n">0</span>], imageInSize*<span class="n">2</span>);
</pre>
</div>
<br>
Note that, since there are <strong>imageInSize</strong> pixels, you can allocate an array of <strong>imageInSize</strong> unsigned shorts, since each element of the array holds one pixel. The .read and .write statements always count bytes, so <strong>2*imageInSize</strong> is the correct number of bytes to read and write for this case.<br>
<br>
(It does no harm to allocate more than you need, but is unnecessary and is misleading for future code maintainers.)<br>
<br>
Dave</div><!-- / message -->
		
		
		
		

		<!-- message, attachments, sig -->
	</td>
</tr>


  

</tbody></table>




	</div>
	
		</div>	
	</div>
</div>

<!-- / close content container -->

<!-- / post #16227 --><!-- post #16294 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width: 100%; text-align: left;">
		<div style="padding: 0px 25px;">

	<div id="edit16294" style="padding: 0px 0px 6px;">
	<!-- this is not the last post shown on the page -->	



<table class="tborder" id="post16294" align="center" border="0" cellpadding="6" cellspacing="1" width="100%">
<tbody><tr>
	<td class="thead">
		<div class="normal" style="float: right;">
			&nbsp;
			#<a href="http://www.gidforums.com/showpost.php?p=16294&amp;postcount=8" target="new" rel="nofollow" id="postcount16294" name="8"><strong>8</strong></a> &nbsp;
			
			
			
			
		</div>
		
		<div class="normal">
			<!-- status icon and date -->
			<a name="post16294"><img title="Old" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/post_old.gif" alt="Old" border="0"></a>
			
				05-Aug-2004, 20:12
			
			
			<!-- / status icon and date -->
		</div>
	</td>
</tr>
<tr>
	<td class="alt1" style="padding: 0px;">
		<!-- user info -->
		<table border="0" cellpadding="0" cellspacing="6" width="100%">
		<tbody><tr>
			
			<td nowrap="nowrap">
			
				<div id="postmenu_16294">
					
					<a class="bigusername" href="http://www.gidforums.com/member.php?u=2102" rel="nofollow"><span title="Member: Level 2" style="color: rgb(140, 98, 57);">Dream86</span></a>
					<img title="Dream86 is offline" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/user_offline.gif" alt="Dream86 is offline" border="0">


					<script type="text/javascript"> vbmenu_register("postmenu_16294", true); </script>
					
				</div>
				
				<div class="smallfont">Junior Member</div>
				<div class="smallfont"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""></div>
				
			</td>
			<td width="100%">&nbsp;</td>
			<td nowrap="nowrap" valign="top">
				
				<div class="smallfont">
					<div>Join Date: Jun 2004</div>
					
					
					<div>
						Posts: 54
					</div>
					<div><img title="Dream86 is on a distinguished road" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="Dream86 is on a distinguished road" border="0"></div>
					<div>   </div>
				</div>
				
			</td>
		</tr>
		</tbody></table>
		<!-- / user info -->
	</td>
</tr>
<tr>
	<td class="alt2" id="td_post_16294" style="padding-bottom: 21px;">
	<!-- message, attachments, sig -->
		
		<!-- message -->
		<div id="post_message_16294">I
use the gnu g++ compiler. As you said, i casted the buffer array in
read() (although i was not getting any compiler error for it) : <br>
<br>
<br>
<div style="margin: 5px 20px 20px;">
  <div class="smallfont gctitle"><b><abbr title="C++ or C plus plus">CPP</abbr> / <abbr title="C++ Programming Language">C++</abbr> / <abbr title="C Programming Language">C</abbr> Code:</b></div>
  <code style="margin: 0px;"></code><pre class="gid cpp">
inFile.read((<span class="k">char</span>*)buffer, imageInSize*<span class="n">2</span>);

</pre>
</div>
<br>
Also, I fixed the problem that you mentioned for the case when bpp == 8 (the image size).<br>
<br>
Thank you very much, but I am still having the same problem. The output
file is not stable. But in most cases i get an output file with 0 size
or size that is much less than the reasonable one.<br>
<br>
The strange thing that happens is that the size of the output file
changes when I run the program on another file!! I do not know how this
can be possible. For example, say I run the program on FileOne, say the
output file is 2891776. Then i run the program on FileTwo. When I do
the ls -lt command or ls -s , the size of the FileOneOutPut has changed
to 0 and and the size of the FileTwoOutput is less than what it is
suppose to be. may be is it something with Linux that i am missing
here??<br>
<br>
Thank you</div><!-- / message -->
		
		
		
		

		<!-- message, attachments, sig -->
	</td>
</tr>


  

</tbody></table>




	</div>
	
		</div>	
	</div>
</div>

<!-- / close content container -->

<!-- / post #16294 --><!-- post #16295 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width: 100%; text-align: left;">
		<div style="padding: 0px 25px;">

	<div id="edit16295" style="padding: 0px 0px 6px;">
	<!-- this is not the last post shown on the page -->	



<table class="tborder" id="post16295" align="center" border="0" cellpadding="6" cellspacing="1" width="100%">
<tbody><tr>
	<td class="thead">
		<div class="normal" style="float: right;">
			&nbsp;
			#<a href="http://www.gidforums.com/showpost.php?p=16295&amp;postcount=9" target="new" rel="nofollow" id="postcount16295" name="9"><strong>9</strong></a> &nbsp;
			
			
			
			
		</div>
		
		<div class="normal">
			<!-- status icon and date -->
			<a name="post16295"><img title="Old" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/post_old.gif" alt="Old" border="0"></a>
			
				05-Aug-2004, 21:16
			
			
			<!-- / status icon and date -->
		</div>
	</td>
</tr>
<tr>
	<td class="alt1" style="padding: 0px;">
		<!-- user info -->
		<table border="0" cellpadding="0" cellspacing="6" width="100%">
		<tbody><tr>
			
			<td nowrap="nowrap">
			
				<div id="postmenu_16295">
					
					<a class="bigusername" href="http://www.gidforums.com/member.php?u=1284" rel="nofollow"><span style="color: rgb(0, 114, 188);" title="Member: Level 5">davekw7x</span></a>
					<img title="davekw7x is offline" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/user_offline.gif" alt="davekw7x is offline" border="0">


					<script type="text/javascript"> vbmenu_register("postmenu_16295", true); </script>
					
				</div>
				
				<div class="smallfont">Outstanding Member</div>
				<div class="smallfont"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""></div>
				
			</td>
			<td width="100%">&nbsp;</td>
			<td nowrap="nowrap" valign="top">
				
				<div class="smallfont">
					<div>Join Date: Feb 2004</div>
					<div>Location: Left Coast, USA</div>
					
					<div>
						Posts: 3,413
					</div>
					<div><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_highpos.gif" alt="davekw7x is a splendid one to behold" border="0"><img title="davekw7x is a splendid one to behold" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_highpos.gif" alt="davekw7x is a splendid one to behold" border="0"></div>
					<div>   </div>
				</div>
				
			</td>
		</tr>
		</tbody></table>
		<!-- / user info -->
	</td>
</tr>
<tr>
	<td class="alt2" id="td_post_16295" style="padding-bottom: 21px;">
	<!-- message, attachments, sig -->
		
		<!-- message -->
		<div id="post_message_16295">Without
seeing your entire program, I can only suggest that you make sure you
are reading all parameters correctly. Specifically use <strong>cout&lt;&lt;</strong> to see what values you are using for imagein.totalx and imagein.totaly, since these affect the size of the output file. Use <strong>cout&lt;&lt;</strong> to see what the total number of bytes is supposed to be. Etc., etc.<br>
<br>
Running the program on a second input file obviously shouldn't affect
the contents of the previous output. It's not a Linux thing, it's a
program thing. (If you had bad hardware or a corrupted operating system
or utility program, I would expect more drastic misbehaviour than just
this program behaving badly.)<br>
<br>
General debugging hints:<br>
<br>
Sprinkle <strong>cout&lt;&lt;</strong> throughout the program to
make sure it's doing what you had in mind. Are there ways that the
program can determine exactly how many bytes are read and written?
Stuff like that.<br>
<br>
Regards,<br>
<br>
Dave</div><!-- / message -->
		
		
		
		

		<!-- message, attachments, sig -->
	</td>
</tr>


  

</tbody></table>




	</div>
	
		</div>	
	</div>
</div>

<!-- / close content container -->

<!-- / post #16295 --><!-- post #16302 -->

	<!-- open content container -->

<div align="center">
	<div class="page" style="width: 100%; text-align: left;">
		<div style="padding: 0px 25px;">

	<div id="edit16302" style="padding: 0px 0px 6px;">
		



<table class="tborder" id="post16302" align="center" border="0" cellpadding="6" cellspacing="1" width="100%">
<tbody><tr>
	<td class="thead">
		<div class="normal" style="float: right;">
			&nbsp;
			#<a href="http://www.gidforums.com/showpost.php?p=16302&amp;postcount=10" target="new" rel="nofollow" id="postcount16302" name="10"><strong>10</strong></a> &nbsp;
			
			
			
			
		</div>
		
		<div class="normal">
			<!-- status icon and date -->
			<a name="post16302"><img title="Old" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/post_old.gif" alt="Old" border="0"></a>
			
				06-Aug-2004, 10:35
			
			
			<!-- / status icon and date -->
		</div>
	</td>
</tr>
<tr>
	<td class="alt1" style="padding: 0px;">
		<!-- user info -->
		<table border="0" cellpadding="0" cellspacing="6" width="100%">
		<tbody><tr>
			
			<td nowrap="nowrap">
			
				<div id="postmenu_16302">
					
					<a class="bigusername" href="http://www.gidforums.com/member.php?u=2102" rel="nofollow"><span title="Member: Level 2" style="color: rgb(140, 98, 57);">Dream86</span></a>
					<img title="Dream86 is offline" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/user_offline.gif" alt="Dream86 is offline" border="0">


					<script type="text/javascript"> vbmenu_register("postmenu_16302", true); </script>
					
				</div>
				
				<div class="smallfont">Junior Member</div>
				<div class="smallfont"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rank1_5.gif" alt="" border=""></div>
				
			</td>
			<td width="100%">&nbsp;</td>
			<td nowrap="nowrap" valign="top">
				
				<div class="smallfont">
					<div>Join Date: Jun 2004</div>
					
					
					<div>
						Posts: 54
					</div>
					<div><img title="Dream86 is on a distinguished road" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/reputation_pos.gif" alt="Dream86 is on a distinguished road" border="0"></div>
					<div>   </div>
				</div>
				
			</td>
		</tr>
		</tbody></table>
		<!-- / user info -->
	</td>
</tr>
<tr>
	<td class="alt2" id="td_post_16302" style="padding-bottom: 21px;">
	<!-- message, attachments, sig -->
		
		<!-- message -->
		<div id="post_message_16302">I
used cout in different palces to check the read and write. Everything
seems to be fine...I do not know how to check the total number of bytes
being read and written by the program?<br>
<br>
This is suppose to be an easy read and write operations. I think the
part that reads and writes the image data is fine because i use that
part separately to read and write only the image data and i get the
correct output. Also i use that part in another program that combines
the images of different files in a directory without the header part ,
and that seems to be working as well. <br>
<br>
I have spent so much time on this and i am really fraustrated since i
do not know what is going wrong. Here is my entire code. I really
appreciate if you please take a look at it and let me know what you
think.<br>
<br>
<div style="margin: 5px 20px 20px;">
  <div class="smallfont gctitle"><b><abbr title="C++ or C plus plus">CPP</abbr> / <abbr title="C++ Programming Language">C++</abbr> / <abbr title="C Programming Language">C</abbr> Code:</b></div>
  <code style="margin: 0px;"></code><pre class="gid cpp" style="height: 390px;">
<span class="k">#include</span> &lt;fstream.h&gt; 
<span class="k">#include</span> &lt;stdlib.h&gt;  
<span class="k">#include</span> &lt;string.h&gt;   
<span class="k">#include</span> <span class="q">"hdr_s.h"</span>
<span class="k">#include</span> <span class="q">"Format.h"</span> 



<span class="k">int</span> main(<span class="k">int</span> argc, <span class="k">char</span>* argv[])
{

   <span class="k">if</span> (argc !=<span class="n">2</span>)
   {
     cerr &lt;&lt; endl &lt;&lt; <span class="q">"*Enter the following in the command prompt:"</span> &lt;&lt; endl;
     cerr &lt;&lt; <span class="q">"        Format.exe  NameOfRawDataFile"</span> &lt;&lt; endl &lt;&lt; endl;
     exit(<span class="n">1</span>);
   }

   ic_img_hdr imageIn;    <span class="c">// new format
</span>
   oldFormatParams imageOut;   <span class="c">//old format
</span>
   <span class="c">//initializing the vars to a nonsense value
</span>   imageOut.numSection = -<span class="n">1</span>;
   imageOut.zStart = -<span class="n">1</span>;
   imageOut.xInterval = -<span class="n">1</span>;
   imageOut.yInterval = -<span class="n">1</span>;
   imageOut.zInterval = -<span class="n">1</span>;
   imageOut.alpha = -<span class="n">1</span>;
   imageOut.beta = -<span class="n">1</span>;
   imageOut.gamma = -<span class="n">1</span>;
   imageOut.mapC = -<span class="n">1</span>;
   imageOut.mapR = -<span class="n">1</span>;
   imageOut.mapS = -<span class="n">1</span>;
   imageOut.minDensity = -<span class="n">1</span>;
   imageOut.maxDensity = -<span class="n">1</span>;
   imageOut.meanDensity = -<span class="n">1</span>;
   imageOut.ISPG = -<span class="n">1</span>;
   imageOut.symOperatorBytes = -<span class="n">1</span>;
   imageOut.extraSpaceOne = -<span class="n">1</span>;
   imageOut.extraSpaceTwo = -<span class="n">1</span>;
   imageOut.extraSpaceThree = -<span class="n">1</span>;
   imageOut.extraSpaceFour = -<span class="n">1</span>;
   imageOut.extraSpaceFive = -<span class="n">1</span>;
   imageOut.extraSpaceSix = -<span class="n">1</span>;
   imageOut.extraSpaceSeven = -<span class="n">1</span>;
   imageOut.extraSpaceEight = -<span class="n">1</span>;
   imageOut.zResFactor = -<span class="n">1</span>;
   imageOut.extHdrSiz = -<span class="n">1</span>;
   imageOut.lambdaOffsetOne = -<span class="n">1</span>;
   imageOut.lambdaOffsetTwo = -<span class="n">1</span>;
   imageOut.lambdaOffsetThree = -<span class="n">1</span>;
   imageOut.lambdaOffsetFour = -<span class="n">1</span>;
   imageOut.lambdaOffsetFive = -<span class="n">1</span>;
   imageOut.lambdaOffsetSix = -<span class="n">1</span>;
   imageOut.datTypeFlag = -<span class="n">1</span>;
   imageOut.datValOne = -<span class="n">1</span>;
   imageOut.datValTwo= -<span class="n">1</span>;
   imageOut.origTiltOne = -<span class="n">1</span>;
   imageOut.origTiltTwo = -<span class="n">1</span>;
   imageOut.origTiltThree = -<span class="n">1</span>;
   imageOut.curTiltOne = -<span class="n">1</span>;
   imageOut.curTiltTwo = -<span class="n">1</span>;
   imageOut.curTiltThree = -<span class="n">1</span>;
   imageOut.lambdaInfoOne = -<span class="n">1</span>;
   imageOut.lambdaInfoTwo = -<span class="n">1</span>;
   imageOut.lambdaInfoThree = -<span class="n">1</span>;
   imageOut.zOrigin = -<span class="n">1</span>;
   imageOut.xOrigin = -<span class="n">1</span>;
   imageOut.yOrigin = -<span class="n">1</span>;
   imageOut.numOfUsedLabel = -<span class="n">1</span>;

 
   ifstream inFile(argv[<span class="n">1</span>], ios::in | ios::binary);

   <span class="k">if</span> (!inFile)  
   {
     cerr &lt;&lt; endl &lt;&lt; <span class="q">"File could not be opened."</span> &lt;&lt; endl;
     cerr &lt;&lt; <span class="q">"Make sure the name of the file is correct and try again."</span> &lt;&lt; endl;
     cerr &lt;&lt; endl;   
     exit(<span class="n">1</span>);           }

    inFile.seekg(<span class="n">16</span>, ios::beg);
    inFile.read( (<span class="k">char</span>*) &amp;imageIn.totalx, <span class="k">sizeof</span>(<span class="k">long</span>) );  <span class="c">//1
</span>    cout &lt;&lt; <span class="q">"totalx read: "</span> &lt;&lt; imageIn.totalx &lt;&lt; endl;
    inFile.seekg(<span class="n">20</span>, ios::beg);
    inFile.read( (<span class="k">char</span>*) &amp;imageIn.totaly, <span class="k">sizeof</span>(<span class="k">long</span>) );  <span class="c">//2
</span>    cout &lt;&lt; <span class="q">"totaly read: "</span> &lt;&lt; imageIn.totaly &lt;&lt; endl;
    inFile.seekg(<span class="n">24</span>, ios::beg);
    inFile.read((<span class="k">char</span>*) &amp;imageIn.bpp, <span class="k">sizeof</span>(<span class="k">long</span>) );     <span class="c">//4
</span>    inFile.seekg(<span class="n">8</span>, ios::beg);
    inFile.read( (<span class="k">char</span>*) &amp;imageIn.startx, <span class="k">sizeof</span>(<span class="k">long</span>) );  <span class="c">//5
</span>    inFile.seekg(<span class="n">12</span>, ios::beg);
    inFile.read( (<span class="k">char</span>*) &amp;imageIn.starty, <span class="k">sizeof</span>(<span class="k">long</span>) );  <span class="c">//6
</span>    inFile.seekg(<span class="n">500</span>, ios::beg);
    inFile.read( (<span class="k">char</span>*) &amp;imageIn.xspc, <span class="k">sizeof</span>(<span class="k">float</span>) );  <span class="c">//11
</span>    inFile.read( (<span class="k">char</span>*) &amp;imageIn.yspc, <span class="k">sizeof</span>(<span class="k">float</span>) );  <span class="c">//12
</span>    inFile.read( (<span class="k">char</span>*) &amp;imageIn.zspc, <span class="k">sizeof</span>(<span class="k">float</span>) );  <span class="c">//13
</span>    inFile.seekg(<span class="n">332</span>, ios::beg);
    inFile.read( (<span class="k">char</span>*) &amp;imageIn.label, <span class="k">sizeof</span>(<span class="k">char</span>)*<span class="n">144</span> );  <span class="c">//56-256
</span>    cout &lt;&lt; <span class="q">"label: "</span> &lt;&lt; imageIn.label &lt;&lt; endl;
    inFile.seekg(<span class="n">4</span>, ios::beg);
    
 
<span class="c">// write the header into a bin file(raw data) in the correct(old) format
</span>
    <span class="k">char</span>* outFileName[<span class="n">100</span>];
    strcpy( (<span class="k">char</span>*)outFileName, argv[<span class="n">1</span>] );
    strcat( (<span class="k">char</span>*)outFileName, <span class="q">"Formated.bin"</span>);

    ofstream outFile( (<span class="k">char</span>*)outFileName, ios::out | ios::binary);
    <span class="k">if</span> (!outFile)
    {
      cerr &lt;&lt; endl &lt;&lt; <span class="q">"File could not be opened."</span> &lt;&lt; endl;
      cerr &lt;&lt; <span class="q">"Make sure the name of the file is correct and try again."</span> &lt;&lt; endl;
      exit(<span class="n">1</span>);
    }

    outFile.write( (<span class="k">char</span>*) &amp;imageIn.totalx, <span class="k">sizeof</span>(<span class="k">long</span>) );                    <span class="c">//1
</span>    cout &lt;&lt; <span class="q">"totalx written: "</span> &lt;&lt;imageIn.totalx &lt;&lt; endl;
    outFile.write( (<span class="k">char</span>*) &amp;imageIn.totaly, <span class="k">sizeof</span>(<span class="k">long</span>) );                    <span class="c">//2
</span>    cout &lt;&lt; <span class="q">"totaly written: "</span> &lt;&lt; imageIn.totaly &lt;&lt; endl;
    outFile.write( (<span class="k">char</span>*) &amp;imageOut.numSection, <span class="k">sizeof</span>(<span class="k">long</span>) );               <span class="c">//3
</span>    cout &lt;&lt; <span class="q">"numSection: "</span> &lt;&lt; imageOut.numSection &lt;&lt; endl;
    <span class="k">if</span> (imageIn.bpp == <span class="n">8</span>)                                                      <span class="c">//4
</span>    {
      imageOut.mode = <span class="n">1</span>;
    }
    <span class="k">else</span> <span class="k">if</span>(imageIn.bpp == <span class="n">16</span>)
    {
      imageOut.mode = <span class="n">2</span>;
    }
    outFile.write( (<span class="k">char</span>*) &amp;imageOut.mode, <span class="k">sizeof</span>(<span class="k">long</span>) );                     <span class="c">//4
</span>    cout &lt;&lt; <span class="q">"mode: "</span> &lt;&lt; imageOut.mode &lt;&lt; endl;
    outFile.write( (<span class="k">char</span>*) &amp;imageIn.startx, <span class="k">sizeof</span>(<span class="k">long</span>) );                    <span class="c">//5
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageIn.starty, <span class="k">sizeof</span>(<span class="k">long</span>) );                    <span class="c">//6     
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.zStart, <span class="k">sizeof</span>(<span class="k">long</span>) );                   <span class="c">//7  
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.xInterval, <span class="k">sizeof</span>(<span class="k">long</span>) );                <span class="c">//8
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.yInterval, <span class="k">sizeof</span>(<span class="k">long</span>) );                <span class="c">//9
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.zInterval, <span class="k">sizeof</span>(<span class="k">long</span>) );                <span class="c">//10
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageIn.xspc, <span class="k">sizeof</span>(<span class="k">long</span>) );                      <span class="c">//11
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageIn.yspc, <span class="k">sizeof</span>(<span class="k">long</span>) );                      <span class="c">//12
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageIn.zspc, <span class="k">sizeof</span>(<span class="k">long</span>) );                      <span class="c">//13
</span>    cout &lt;&lt; <span class="q">"zspc: "</span> &lt;&lt; imageIn.zspc &lt;&lt; endl;
    outFile.write( (<span class="k">char</span>*) &amp;imageOut.alpha, <span class="k">sizeof</span>(<span class="k">long</span>) );                    <span class="c">//14
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.beta, <span class="k">sizeof</span>(<span class="k">long</span>) );                     <span class="c">//15
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.gamma, <span class="k">sizeof</span>(<span class="k">long</span>) );                    <span class="c">//16
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.mapC, <span class="k">sizeof</span>(<span class="k">long</span>) );                     <span class="c">//17
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.mapR, <span class="k">sizeof</span>(<span class="k">long</span>) );                     <span class="c">//18
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.mapS, <span class="k">sizeof</span>(<span class="k">long</span>) );                     <span class="c">//19
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.minDensity, <span class="k">sizeof</span>(<span class="k">long</span>) );               <span class="c">//20
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.maxDensity, sizeo(<span class="k">long</span>) );               <span class="c">//21
</span>    cout &lt;&lt; <span class="q">"maxDensity: "</span> &lt;&lt; imageOut.maxDensity &lt;&lt; endl;
    outFile.write( (<span class="k">char</span>*) &amp;imageOut.meanDensity, <span class="k">sizeof</span>(<span class="k">long</span>) );           <span class="c">//22
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.ISPG, <span class="k">sizeof</span>(<span class="k">long</span>) );                     <span class="c">//23
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.symOperatorBytes, <span class="k">sizeof</span>(<span class="k">long</span>) );     <span class="c">//24
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.extraSpaceOne, <span class="k">sizeof</span>(<span class="k">long</span>) );        <span class="c">//25
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.extraSpaceTwo, <span class="k">sizeof</span>(<span class="k">long</span>) );        <span class="c">//26
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.extraSpaceThree, <span class="k">sizeof</span>(<span class="k">long</span>) );          <span class="c">//27
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.extraSpaceFour, <span class="k">sizeof</span>(<span class="k">long</span>) );           <span class="c">//28
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.extraSpaceFive, <span class="k">sizeof</span>(<span class="k">long</span>) );           <span class="c">//29
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.extraSpaceSix, <span class="k">sizeof</span>(<span class="k">long</span>) );            <span class="c">//30
</span>    cout &lt;&lt; <span class="q">"extraSpaceSix: "</span> &lt;&lt; imageOut.extraSpaceSix &lt;&lt; endl;
    outFile.write( (<span class="k">char</span>*) &amp;imageOut.extraSpaceSeven, <span class="k">sizeof</span>(<span class="k">long</span>) );          <span class="c">//31
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.extraSpaceEight, <span class="k">sizeof</span>(<span class="k">long</span>) );          <span class="c">//32
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.zResFactor, <span class="k">sizeof</span>(<span class="k">long</span>) );               <span class="c">//33
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.extHdrSiz, <span class="k">sizeof</span>(<span class="k">long</span>) );                <span class="c">//34
</span>    cout &lt;&lt; <span class="q">"extHdrSiz: "</span> &lt;&lt; imageOut.extHdrSiz &lt;&lt;  endl;
    outFile.write( (<span class="k">char</span>*) &amp;imageOut.lambdaOffsetOne, <span class="k">sizeof</span>(<span class="k">long</span>) );          <span class="c">//35
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.lambdaOffsetTwo, <span class="k">sizeof</span>(<span class="k">long</span>) );          <span class="c">//36
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.lambdaOffsetThree, <span class="k">sizeof</span>(<span class="k">long</span>) );        <span class="c">//37
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.lambdaOffsetFour, <span class="k">sizeof</span>(<span class="k">long</span>) );         <span class="c">//38
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.lambdaOffsetFive, <span class="k">sizeof</span>(<span class="k">long</span>) );         <span class="c">//39
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.lambdaOffsetSix, <span class="k">sizeof</span>(<span class="k">long</span>) );          <span class="c">//40
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.datTypeFlag, <span class="k">sizeof</span>(<span class="k">long</span>) );              <span class="c">//41
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.datValOne, <span class="k">sizeof</span>(<span class="k">long</span>) );                <span class="c">//42
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.datValTwo, <span class="k">sizeof</span>(<span class="k">long</span>) );                <span class="c">//43
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.origTiltOne, <span class="k">sizeof</span>(<span class="k">long</span>) );              <span class="c">//44
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.origTiltTwo, <span class="k">sizeof</span>(<span class="k">long</span>) );              <span class="c">//45
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.origTiltThree, <span class="k">sizeof</span>(<span class="k">long</span>) );            <span class="c">//46
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.curTiltOne, <span class="k">sizeof</span>(<span class="k">long</span>) );               <span class="c">//47
</span>    cout &lt;&lt; <span class="q">"curTiltOne: "</span> &lt;&lt; imageOut.curTiltOne &lt;&lt; endl;
    outFile.write( (<span class="k">char</span>*) &amp;imageOut.curTiltTwo, <span class="k">sizeof</span>(<span class="k">long</span>) );               <span class="c">//48
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.curTiltThree, <span class="k">sizeof</span>(<span class="k">long</span>) );             <span class="c">//49
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.lambdaInfoOne, <span class="k">sizeof</span>(<span class="k">long</span>) );            <span class="c">//50
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.lambdaInfoTwo, <span class="k">sizeof</span>(<span class="k">long</span>) );            <span class="c">//51
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.lambdaInfoThree, <span class="k">sizeof</span>(<span class="k">long</span>) );          <span class="c">//52
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.zOrigin, <span class="k">sizeof</span>(<span class="k">long</span>) );                  <span class="c">//53
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.xOrigin, <span class="k">sizeof</span>(<span class="k">long</span>) );                  <span class="c">//54
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.yOrigin, <span class="k">sizeof</span>(<span class="k">long</span>) );                  <span class="c">//55
</span>    outFile.write( (<span class="k">char</span>*) &amp;imageOut.numOfUsedLabel, <span class="k">sizeof</span>(<span class="k">long</span>) );           <span class="c">//56
</span>    cout &lt;&lt; <span class="q">"numOfUsedLabel: "</span> &lt;&lt; imageOut.numOfUsedLabel &lt;&lt; endl;
     outFile.write( (<span class="k">char</span>*) &amp;imageIn.label, <span class="k">sizeof</span>(<span class="k">char</span>)*<span class="n">144</span> );             <span class="c">//57-256
</span>    
    cout &lt;&lt; <span class="q">"label written: "</span> &lt;&lt; imageIn.label &lt;&lt; endl;


<span class="c">//writing the image data
</span>
  <span class="k">unsigned</span> <span class="k">long</span> imageInSize;
                
  imageInSize = imageIn.totalx * imageIn.totaly;

  inFile.seekg(<span class="n">24</span>, ios::beg);
  inFile.read( (<span class="k">char</span>*) &amp;imageIn.bpp, <span class="k">sizeof</span>(<span class="k">long</span>) );
  cout &lt;&lt; <span class="q">"bpp read: "</span> &lt;&lt; imageIn.bpp &lt;&lt; endl;

 
  <span class="k">if</span> (imageIn.bpp == <span class="n">8</span>)
  {
    <span class="k">char</span>* buffer = <span class="k">new</span> <span class="k">char</span>[imageInSize];
    inFile.seekg(<span class="n">512</span>, ios::beg);
    inFile.read((<span class="k">char</span>*)buffer, imageInSize);
    
    outFile.write( (<span class="k">char</span>*) &amp;buffer[<span class="n">0</span>], imageInSize);

    <span class="k">delete</span>[] buffer;
  }

  <span class="k">else</span> <span class="k">if</span> (imageIn.bpp == <span class="n">16</span>)
  {
    <span class="k">unsigned</span> <span class="k">short</span>* buffer = <span class="k">new</span> <span class="k">unsigned</span> <span class="k">short</span>[imageInSize*<span class="n">2</span>];
    inFile.seekg(<span class="n">512</span>, ios::beg);
    inFile.read((<span class="k">char</span>*)buffer, imageInSize*<span class="n">2</span>);
   
    outFile.write( (<span class="k">char</span>*) &amp;buffer[<span class="n">0</span>], imageInSize*<span class="n">2</span>);
    cout &lt;&lt; <span class="q">"0: "</span> &lt;&lt;  buffer[<span class="n">0</span>] &lt;&lt; endl;
    cout &lt;&lt; <span class="q">"1: "</span> &lt;&lt; buffer[<span class="n">1</span>] &lt;&lt; endl;
    cout &lt;&lt; <span class="q">"20: "</span>  &lt;&lt; buffer[<span class="n">20</span>] &lt;&lt; endl;
    cout &lt;&lt; <span class="q">"100: "</span> &lt;&lt; buffer[<span class="n">100</span>] &lt;&lt; endl;
    cout &lt;&lt; <span class="q">"134: "</span> &lt;&lt; buffer[<span class="n">134</span>] &lt;&lt;endl;
    cout &lt;&lt; <span class="q">"200: "</span> &lt;&lt; buffer[<span class="n">200</span>] &lt;&lt;endl;
    cout &lt;&lt; <span class="q">"340: "</span> &lt;&lt; buffer[<span class="n">340</span>] &lt;&lt; endl;
    cout &lt;&lt; <span class="q">"500: "</span> &lt;&lt; buffer[<span class="n">500</span>] &lt;&lt; endl;
    cout &lt;&lt; <span class="q">"900: "</span> &lt;&lt; buffer[<span class="n">900</span>] &lt;&lt; endl;
    cout &lt;&lt; <span class="q">"2000: "</span> &lt;&lt; buffer[<span class="n">2000</span>] &lt;&lt; endl;
    cout &lt;&lt; <span class="q">"1000000: "</span> &lt;&lt; buffer[<span class="n">1000000</span>] &lt;&lt; endl;
    cout &lt;&lt; <span class="q">"1447679: "</span> &lt;&lt; buffer[<span class="n">1447679</span>] &lt;&lt; endl;
    cout &lt;&lt; <span class="q">"1447680: "</span> &lt;&lt; buffer[<span class="n">1447680</span>] &lt;&lt; endl;
  
    <span class="k">delete</span>[] buffer;
  }

    <span class="k">return</span> <span class="n">0</span>;
}

</pre>
</div>
<br>
Thank you very much</div><!-- / message -->
		
		
		
		

		<!-- message, attachments, sig -->
	</td>
</tr>


  

</tbody></table>




	</div>
	
		</div>	
	</div>
</div>

<!-- / close content container -->

<!-- / post #16302 --><div id="lastpost"></div></div>
<!-- start content table -->
<!-- open content container -->

<div align="center">
	<div class="page" style="width: 100%; text-align: left;">
		<div style="padding: 0px 25px;">

<!-- / start content table -->
<!-- controls below postbits -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
	
	  <td class="smallfont">&nbsp;</td>
	  
	

	
		<td align="right"><div class="pagenav" align="right">
<table class="tborder" border="0" cellpadding="3" cellspacing="1">
<tbody><tr>
	<td class="vbmenu_control" style="font-weight: normal;">Page 1 of 2</td>
	
	
		<td class="alt2"><span class="smallfont" title="Showing results 1 to 10 of 11"><strong>1</strong></span></td>
 <td class="alt1"><a class="smallfont" href="http://www.gidforums.com/t-3327.html?page=2" title="Show results 11 to 11 of 11">2</a></td>
	<td class="alt1"><a class="smallfont" href="http://www.gidforums.com/t-3327.html?page=2" title="Next Page - Results 11 to 11 of 11">&gt;</a></td>
	
	<td style="cursor: pointer;" id="pagenav.104" class="vbmenu_control" title=""> <img alt="" title="" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/menu_open.gif" border="0"></td>
</tr>
</tbody></table>
</div>
						
		</td>
	
</tr>
</tbody></table>
<!-- / controls below postbits -->




	<div id="divSTGA728">
<table style="margin: auto; background-color: rgb(255, 255, 255);" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td>


<script type="text/javascript"><!--
google_ad_client = "pub-6718186524237536";
google_alternate_color = "FFFFFF";
google_ad_width = 200;
google_ad_height = 90;
google_ad_format = "200x90_0ads_al";
google_ad_channel = "7135035340";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "000000";
//-->
</script>
<script type="text/javascript" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/show_ads.js">
</script><iframe name="google_ads_frame" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/ads_002.htm" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" frameborder="0" height="90" scrolling="no" width="200"></iframe>


</td><td>


<script type="text/javascript"><!--
google_ad_client = "pub-6718186524237536";
google_alternate_color = "FFFFFF";
google_ad_width = 200;
google_ad_height = 90;
google_ad_format = "200x90_0ads_al";
google_ad_channel = "7135035340";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "000000";
//-->
</script>
<script type="text/javascript" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/show_ads.js">
</script><iframe name="google_ads_frame" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/ads_003.htm" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" frameborder="0" height="90" scrolling="no" width="200"></iframe>


</td><td>


<script type="text/javascript"><!--
google_ad_client = "pub-6718186524237536";
google_alternate_color = "FFFFFF";
google_ad_width = 200;
google_ad_height = 90;
google_ad_format = "200x90_0ads_al";
google_ad_channel = "7135035340";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "000000";
//-->
</script>
<script type="text/javascript" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/show_ads.js">
</script><iframe name="google_ads_frame" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/ads_004.htm" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" frameborder="0" height="90" scrolling="no" width="200"></iframe>


</td></tr></tbody></table><div id="beacon_324" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/adlog_003.gif" alt="" style="width: 0px; height: 0px;" height="0" width="0"></div><noscript></noscript></div>
<div class="smallfont" align="center">
	<strong></strong>
		<a href="http://www.gidforums.com/t-3327.html?goto=nextoldest" rel="nofollow">Previous Thread</a>
		|
		<a href="http://www.gidforums.com/t-3327.html?goto=nextnewest" rel="nofollow">Next Thread</a>
	<strong></strong>
</div>


<p id="pGIDBlog" style="">
	<span id="spanA"><a href="http://gidblog.com/" title="Start a Blog">Recent GIDBlog</a></span><span id="spanB"><a href="http://sports.gidblog.com/2007/07/09/mlb-all-star-game/" title="Posted by: dsmith on Mon, 09 Jul 2007 15:25:47 -0500"><img src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/gidblog-bullet-9x15.png" alt="">MLB All-Star Game</a> by dsmith</span>
</p>





<!-- currently active users -->

<!-- end currently active users -->


<!-- popup menu contents -->
<br>

<!-- thread tools menu -->
<div class="vbmenu_popup" id="threadtools_menu" style="display: none;">
<form action="postings.php" method="post" name="threadadminform">
	<table border="0" cellpadding="4" cellspacing="1">
	<tbody><tr>
		<td class="thead">Thread Tools<a name="goto_threadtools"></a></td>
	</tr>
	<tr>
		<td class="vbmenu_option"><img title="Show Printable Version" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/printer.gif" alt="Show Printable Version"> <a href="http://www.gidforums.com/printthread.php?t=3327" rel="nofollow" accesskey="3">Show Printable Version</a></td>
	</tr>
	<tr>
		<td class="vbmenu_option"><img title="Email this Page" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/sendtofriend.gif" alt="Email this Page"> <a href="http://www.gidforums.com/sendmessage.php?do=sendtofriend&amp;t=3327" rel="nofollow">Email this Page</a></td>
	</tr>
	
	
	
	</tbody></table>
</form>
</div>
<!-- / thread tools menu -->

<!-- **************************************************** -->


<!-- thread search menu -->
<div class="vbmenu_popup" id="threadsearch_menu" style="display: none;">
<form action="search.php" method="post">
	<table border="0" cellpadding="4" cellspacing="1">
	<tbody><tr>
		<td class="thead">Search this Thread<a name="goto_threadsearch"></a></td>
	</tr>
	<tr>
		<td class="vbmenu_option" title="nohilite">
			<input name="s" value="" type="hidden">
			<input name="do" value="process" type="hidden">
			<input name="searchthread" value="1" type="hidden">
			<input name="showposts" value="1" type="hidden">
			<input name="searchthreadid" value="3327" type="hidden">
			<input class="bginput" name="query" size="20" type="text"><input class="button" value="Go" type="submit"><br>
		</td>
	</tr>
	<tr>
		<td class="vbmenu_option"><a href="http://www.gidforums.com/search.php" rel="nofollow">Advanced Search</a></td>
	</tr>
	</tbody></table>
</form>
</div>
<!-- / thread search menu -->


<!-- **************************************************** -->

<!-- thread rating menu -->
<div class="vbmenu_popup" id="threadrating_menu" style="display: none;">
<form action="threadrate.php" method="post">
	<table border="0" cellpadding="4" cellspacing="1">
	<tbody><tr>
		<td class="thead">Rate This Thread<a name="goto_threadrating"></a></td>
	</tr>
	
	<tr>
		<td class="vbmenu_option" title="nohilite">
		<div><img title="Excellent" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rating_5.gif" alt="Excellent"><label for="vote5"><input name="vote" id="vote5" value="5" type="radio">Excellent</label></div>
		<div><img title="Good" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rating_4.gif" alt="Good"><label for="vote4"><input name="vote" id="vote4" value="4" type="radio">Good</label></div>
		<div><img title="Average" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rating_3.gif" alt="Average"><label for="vote3"><input name="vote" id="vote3" value="3" type="radio">Average</label></div>
		<div><img title="Bad" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rating_2.gif" alt="Bad"><label for="vote2"><input name="vote" id="vote2" value="2" type="radio">Bad</label></div>
		<div><img title="Terrible" class="inlineimg" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/rating_1.gif" alt="Terrible"><label for="vote1"><input name="vote" id="vote1" value="1" type="radio">Terrible</label></div>
		</td>
	</tr>
	<tr>
		<td class="vbmenu_option" title="nohilite" align="center">
			<input name="s" value="bfe272fc3ac20b758be82a7f813fb70a" type="hidden">
			<input name="t" value="3327" type="hidden">
			<input name="pp" value="10" type="hidden">
			<input name="page" value="1" type="hidden">
			<input class="button" value="Vote Now" type="submit">
		</td>
	</tr>
	
	</tbody></table>
</form>
</div>
<!-- / thread rating menu -->


<!-- / popup menu contents -->


<!-- forum rules and admin links -->
<table align="center" border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="bottom">
	<td class="smallfont" align="left">
		<table class="tborder" border="0" cellpadding="6" cellspacing="1" width="180">
<thead>
<tr>
	<td class="thead">
		<a style="float: right;" href="#top" onclick="return toggle_collapse('forumrules')"><img id="collapseimg_forumrules" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/collapse_thead.gif" alt="" border="0"></a>
		Posting Rules
	</td>
</tr>
</thead>
<tbody id="collapseobj_forumrules" style="">
<tr>
	<td class="alt1" nowrap="nowrap"><div class="smallfont">
		
		<div>You <strong>may not</strong> post new threads</div>
		<div>You <strong>may not</strong> post replies</div>
		<div>You <strong>may not</strong> post attachments</div>
		<div>You <strong>may not</strong> edit your posts</div>
		<hr>
		
		<div><a href="http://www.gidforums.com/misc.php?do=bbcode" target="_blank">vB code</a> is <strong>On</strong></div>
		<div><a href="http://www.gidforums.com/misc.php?do=showsmilies" target="_blank">Smilies</a> are <strong>On</strong></div>
		<div><a href="http://www.gidforums.com/misc.php?do=bbcode#imgcode" target="_blank">[IMG]</a> code is <strong>On</strong></div>
		<div>HTML code is <strong>Off</strong></div>
	</div></td>
</tr>
</tbody>
</table>
	</td>
	<td class="smallfont" align="right">
		<table border="0" cellpadding="0" cellspacing="0">
		
		<tbody><tr>
			<td>
			<div class="smallfont" style="text-align: left; white-space: nowrap;">
	<form action="forumdisplay.php" method="get">
	<input name="s" value="" type="hidden">
	<input name="daysprune" value="" type="hidden">
	<strong>Forum Jump</strong><br>
	<select name="f" onchange="this.form.submit();">
		<optgroup label="Site Areas">
			<option value="cp">User Control Panel</option>
			<option value="pm">Private Messages</option>
			<option value="subs">Subscriptions</option>
			<option value="wol">Who's Online</option>
			<option value="search">Search Forums</option>
			<option value="home">Forums Home</option>
		</optgroup>
		<optgroup label="Forums">
		<option value="1" class="fjdpth0"> Webmaster Forums</option>
<option value="7" class="fjdpth1">&nbsp; &nbsp;  Web Design Forum</option>
<option value="58" class="fjdpth2">&nbsp; &nbsp; &nbsp; &nbsp;  Webmaster / Web Designing Advertisements &amp; Offers</option>
<option value="6" class="fjdpth1">&nbsp; &nbsp;  Websites Reviewed Forum</option>
<option value="9" class="fjdpth1">&nbsp; &nbsp;  Graphics Forum</option>
<option value="47" class="fjdpth1">&nbsp; &nbsp;  eCommerce / Merchant Account Forum</option>
<option value="36" class="fjdpth0"> Computer Programming Forums</option>
<option value="28" class="fjsel" selected="selected">&nbsp; &nbsp;  CPP / C++ Forum</option>
<option value="41" class="fjdpth1">&nbsp; &nbsp;  C Programming Language</option>
<option value="46" class="fjdpth1">&nbsp; &nbsp;  MS Visual C++ / MFC Forum</option>
<option value="48" class="fjdpth1">&nbsp; &nbsp;  FLTK Forum</option>
<option value="49" class="fjdpth1">&nbsp; &nbsp;  .NET Forum</option>
<option value="54" class="fjdpth1">&nbsp; &nbsp;  Java Forum</option>
<option value="52" class="fjdpth1">&nbsp; &nbsp;  Python Forum</option>
<option value="55" class="fjdpth1">&nbsp; &nbsp;  Miscellaneous Programming Forum</option>
<option value="57" class="fjdpth2">&nbsp; &nbsp; &nbsp; &nbsp;  Computer Programming Advertisements &amp; Offers</option>
<option value="2" class="fjdpth1">&nbsp; &nbsp;  MySQL / PHP Forum</option>
<option value="14" class="fjdpth2">&nbsp; &nbsp; &nbsp; &nbsp;  PHP Code Library</option>
<option value="38" class="fjdpth0"> Web Promotion Forums</option>
<option value="37" class="fjdpth1">&nbsp; &nbsp;  Search Engine Optimization Forum</option>
<option value="39" class="fjdpth1">&nbsp; &nbsp;  Advertising &amp; Affiliates Forum</option>
<option value="51" class="fjdpth1">&nbsp; &nbsp;  AdSense Forum</option>
<option value="5" class="fjdpth0"> Web Hosting Forums</option>
<option value="10" class="fjdpth1">&nbsp; &nbsp;  Web Hosting Forum</option>
<option value="24" class="fjdpth1">&nbsp; &nbsp;  Web Hosting Advertisements &amp; Offers</option>
<option value="59" class="fjdpth2">&nbsp; &nbsp; &nbsp; &nbsp;  Managed / Dedicated Servers</option>
<option value="60" class="fjdpth2">&nbsp; &nbsp; &nbsp; &nbsp;  Reseller Hosting</option>
<option value="11" class="fjdpth2">&nbsp; &nbsp; &nbsp; &nbsp;  Free Web Hosting</option>
<option value="19" class="fjdpth1">&nbsp; &nbsp;  Apache Web Server Forum</option>
<option value="22" class="fjdpth1">&nbsp; &nbsp;  Web Host Review Forum</option>
<option value="30" class="fjdpth0"> Computer Forums</option>
<option value="15" class="fjdpth1">&nbsp; &nbsp;  Computer Hardware Forum</option>
<option value="16" class="fjdpth1">&nbsp; &nbsp;  Computer Software Forum - Windows</option>
<option value="31" class="fjdpth1">&nbsp; &nbsp;  Computer Software Forum - Linux</option>
<option value="32" class="fjdpth1">&nbsp; &nbsp;  Computer Software Forum - Games</option>
<option value="29" class="fjdpth0"> Trade Forums</option>
<option value="34" class="fjdpth1">&nbsp; &nbsp;  Member Announcements, Advertisements &amp; Offers</option>
<option value="12" class="fjdpth0"> General Forums</option>
<option value="27" class="fjdpth1">&nbsp; &nbsp;  New Member Introductions</option>
<option value="18" class="fjdpth1">&nbsp; &nbsp;  Open Discussion Forum</option>
<option value="50" class="fjdpth1">&nbsp; &nbsp;  Sports Forum</option>
<option value="56" class="fjdpth1">&nbsp; &nbsp;  Music Forum</option>
<option value="3" class="fjdpth0"> Site Info and Feedback</option>
<option value="43" class="fjdpth1">&nbsp; &nbsp;  GIDNetwork&#8482;</option>
<option value="33" class="fjdpth2">&nbsp; &nbsp; &nbsp; &nbsp;  GIDForums&#8482;</option>
<option value="42" class="fjdpth2">&nbsp; &nbsp; &nbsp; &nbsp;  GIDWebhosts&#8482;</option>
<option value="61" class="fjdpth2">&nbsp; &nbsp; &nbsp; &nbsp;  GIDBlog</option>
<option value="45" class="fjdpth2">&nbsp; &nbsp; &nbsp; &nbsp;  GIDSearch&#8482;</option>
<option value="13" class="fjdpth2">&nbsp; &nbsp; &nbsp; &nbsp;  GIDTopsites&#8482;</option>
<option value="4" class="fjdpth2">&nbsp; &nbsp; &nbsp; &nbsp;  Learning Journal by J de Silva</option>

		</optgroup>
	</select><input class="button" value="Go" type="submit">
	</form>
</div>
			</td>
		</tr>		
		</tbody></table>
	</td>
</tr>
</tbody></table>
<!-- /forum rules and admin links -->

<br>

<table class="tborder" align="center" border="0" cellpadding="6" cellspacing="1" width="100%">
<thead>
	<tr>
		<td class="tcat" colspan="5" width="100%">
			<a style="float: right;" href="#top" rel="nofollow" onclick="return toggle_collapse('similarthreads')"><img id="collapseimg_similarthreads" src="reading%20and%20writing%20binary%20files%20in%20certain%20format_files/collapse_tcat.gif" alt="" border="0"></a>
			Similar Threads<a name="similarthreads"></a>
		</td>
	</tr>
</thead>
<tbody id="collapseobj_similarthreads" style="">
<tr class="thead" align="center">
	<td class="thead" width="40%">Thread</td>
	<td class="thead" nowrap="nowrap" width="15%">Thread Starter</td>
	<td class="thead" width="20%">Forum</td>
	<td class="thead" width="5%">Replies</td>
	<td class="thead" width="20%">Last Post</td>
</tr>
<tr>
	<td class="alt1" align="left"><span class="smallfont"><a href="http://www.gidforums.com/t-2096.html" title="I need to write a small program that reads a file and adds somethings to it.  The file contains file paths.  This is what it needs to look like

1
i:\home8\test_maintenance.drw\02_test.fld\02PC342M.dwg
i:\home8\test_maintenance.drw\02_test.fld\02PC342M
1

right now i just have...">reading and writing to a file in C++</a></span></td>
	<td class="alt2" nowrap="nowrap"><span class="smallfont">mgp6q</span></td>
	<td class="alt1" nowrap="nowrap"><span class="smallfont">CPP / C++ Forum</span></td>
	<td class="alt2" align="center"><span class="smallfont">17</span></td>
	<td class="alt1" align="right"><span class="smallfont">02-Mar-2004 <span class="time">13:42</span></span></td>
</tr><tr>
	<td class="alt1" align="left"><span class="smallfont"><a href="http://www.gidforums.com/t-2062.html" title="Name/Brief Description:
A fairly thorough tutorial of Standard I/O

Date of Original Sumbission:
February, 25th 2004
Modified: March 3, 2004

Submitted by:
Aaron Cohn">[Tutorial] Standard I/O</a></span></td>
	<td class="alt2" nowrap="nowrap"><span class="smallfont">aaroncohn</span></td>
	<td class="alt1" nowrap="nowrap"><span class="smallfont">C Programming Language</span></td>
	<td class="alt2" align="center"><span class="smallfont">20</span></td>
	<td class="alt1" align="right"><span class="smallfont">27-Feb-2004 <span class="time">22:07</span></span></td>
</tr>
</tbody>
</table>


<p class="smallfont" style="text-align: center;">
	Network Sites:
	<a href="http://www.gidnetwork.com/">GIDNetwork</a> 
	<a href="http://www.gidwebhosts.com/">GIDWebHosts</a> 
	<a href="http://www.gidsearch.com/">GIDSearch</a> 
	<a href="http://www.desilva.biz/">Learning Journal by J de Silva, The</a>
</p>
<div class="smallfont" align="center">All times are GMT -5. The time now is <span class="time">02:39</span>.</div>
<br>


		</div>	
	</div>
</div>

<!-- / close content container -->
<!-- /content area table -->

<form action="index.php" method="get">
	
<table class="page" align="center" border="0" cellpadding="6" cellspacing="0" width="100%">
<tbody><tr>
	
	
	<td class="tfoot" align="right" width="100%">
		<div class="smallfont">
			<strong>
				<a href="http://www.gidforums.com/sendmessage.php" rel="nofollow">Contact Us</a> -
				<a href="http://www.gidforums.com/">GIDForums&#8482;</a> -
				
				
				
				
				<a href="http://www.gidforums.com/gid_archive.php" rel="contents">Archive</a> -
				<a href="#top" rel="nofollow" onclick="self.scrollTo(0, 0); return false;">Top</a>
			</strong>
		</div>
	</td>
</tr>
</tbody></table>

<br>

<div align="center">
	<div class="smallfont" align="center">
	<!-- Do not remove this copyright notice -->
	vBulletin, Copyright  2000 - 2007, Jelsoft Enterprises Ltd.
	<!-- Do not remove this copyright notice -->
	</div>
	
	<div class="smallfont" align="center">
	<!-- Do not remove  or your scheduled tasks will cease to function -->
	
	<!-- Do not remove  or your scheduled tasks will cease to function -->
	
	
	</div>
</div>

</form>


<script type="text/javascript">
<!--
	// Main vBulletin Javascript Initialization
	vBulletin_init();
//-->
</script>
<noscript><img alt="" src="http://www.desilva.biz/logger/pphlogger.php?id=forums&amp;st=img" /></noscript>

<form name="frmGIDAAT" id="frmGIDAAT" method="post" action=""><input name="i" id="i" value="" type="hidden"><input name="d" id="d" value="2" type="hidden"><input name="r" id="r" value="" type="hidden"></form>


<!-- temp -->
<div style="display: none;">
	<!-- thread rate -->
	
		<!-- thread ratings form here -->
	
	<!-- / thread rate -->
</div>

</body></html>